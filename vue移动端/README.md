# é¡¹ç›®åˆå§‹åŒ–

> - ä½¿ç”¨ Vue CLI åˆ›å»ºé¡¹ç›®
> -  Vant ç»„ä»¶åº“çš„å¯¼å…¥æ–¹å¼
> - åˆ¶ä½œä½¿ç”¨å­—ä½“å›¾æ ‡çš„æ–¹å¼
> - åœ¨ Vue é¡¹ç›®ä¸­å¤„ç† REM é€‚é…
> - axios è¯·æ±‚æ¨¡å—çš„å°è£…

## ä½¿ç”¨ Vue CLI åˆ›å»ºé¡¹ç›®

```zsh
# å‰ç½®
npm install --global @vue/cli
```

åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤åˆ›å»º Vue é¡¹ç›®ï¼š

```zsh
vue create zs-mobile
```

```zsh
Vue CLI v4.5.13
? Please pick a preset:
# é»˜è®¤å‹¾é€‰ babelã€eslint
  default (babel, eslint)
# è‡ªå®šä¹‰å‹¾é€‰ç‰¹æ€§é…ç½®
> Manually select features
```


```shell
? Please pick a preset: Manually select features
? Check the features needed for your project:
 (âˆš) vue version
 (âˆš) Babel
 ( ) TypeScript
 ( ) Progressive Web App (PWA) Support
 (âˆš) Router
 (âˆš) Vuex
 (âˆš) CSS Pre-processors # cssé¢„å¤„ç†å™¨-sass\less
>(âˆš) Linter / Formatter # ä»£ç æ ¼å¼åŒ–ä¸æ ¡éªŒ
 ( ) Unit Testing
 ( ) E2E Testing
```

```zsh
Vue CLI v4.5.11
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                           â”‚
â”‚   New version available 4.5.11 â†’ 4.5.13   â”‚
â”‚     Run npm i -g @vue/cli to update!      â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

? Please pick a preset: Manually select features
# Babelï¼šes6 è½¬ es5ã€Vuexï¼šæ•°æ®å®¹å™¨ï¼Œå­˜å‚¨å…±äº«æ•°æ®ã€CSS Pre-processorsï¼šCSS é¢„å¤„ç†å™¨ã€Linter / Formatterï¼šä»£ç æ ¼å¼æ ¡éªŒ
? Check the features needed for your project: Choose Vue version, Babel, Router,
 Vuex, CSS Pre-processors, Linter
? Choose a version of Vue.js that you want to start the project with 2.x
# history è·¯ç”± URL ç®€æ´ï¼Œå…¼å®¹æ€§ä¸å¥½
? Use history mode for router? (Requires proper server setup for index fallback 
in production) No
? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported 
by default): Less
? Pick a linter / formatter config: Standard
? Pick additional lint features: Lint on save
# Babelã€ESLint ç­‰å·¥å…·ä¼šæœ‰ä¸€äº›é¢å¤–çš„é…ç½®æ–‡ä»¶åˆ†åˆ«ä¿å­˜åˆ°å•ç‹¬çš„é…ç½®æ–‡ä»¶-æ–¹ä¾¿è‡ªå®šä¹‰
? Where do you prefer placing config for Babel, ESLint, etc.? In dedicated confi
g files
? Save this as a preset for future projects? (y/N) n
```


```shell
ğŸ‰  Successfully created project zs-mobile.
ğŸ‘‰  Get started with the following commands:

 $ cd zs-mobile
 $ npm run serve
```


```shell
 # å®‰è£…ç»“æŸï¼Œå‘½ä»¤æç¤ºä½ é¡¹ç›®åˆ›å»ºæˆåŠŸï¼ŒæŒ‰ç…§å‘½ä»¤è¡Œçš„æç¤ºåœ¨ç»ˆç«¯ä¸­åˆ†åˆ«è¾“å…¥
 DONE  Compiled successfully in 2374ms                               ä¸Šåˆ5:11:57


  App running at:
  - Local:   http://localhost:8080/ 
  - Network: http://192.168.124.2:8080/

  Note that the development build is not optimized.
  To create a production build, run npm run build.
```

## åŠ å…¥ Git ç‰ˆæœ¬ç®¡ç†

å‡ ä¸ªå¥½å¤„ï¼šä»£ç å¤‡ä»½ã€å¤šäººåä½œã€å†å²è®°å½•...

è¿œç¨‹ä»“åº“ï¼š[GitHub](https://github.com/lipengzhou)ã€[ç äº‘](https://gitee.com/)ã€[Coding](https://coding.net/)ã€...

### å°†æœ¬åœ°ä»“åº“æ¨åˆ°çº¿ä¸Š

- æ²¡æœ‰æœ¬åœ°ä»“åº“æ“ä½œå¦‚ä¸‹

```shell
# åˆ›å»ºæœ¬åœ°ä»“åº“
git init

# å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº
git add æ–‡ä»¶

# æäº¤å†å²è®°å½•
git commit "init"

# æ·»åŠ è¿œç«¯ä»“åº“åœ°å€
git remote add origin è¿œç¨‹ä»“åº“åœ°å€

# éªŒè¯æ·»åŠ æˆåŠŸ
git remote -v

# æ¨é€æäº¤ => origin = è¿œç¨‹ä»“åº“çš„ç®€å†™ ã€ master = master:master
git push -u origin master
# ç®€å†™å¹¶è®°ä½é…ç½®
git push --set-upstream origin master
```

- å·²æœ‰æœ¬åœ°ä»“åº“ï¼ˆVue CLI å·²ç»åˆå§‹åŒ–å¥½ï¼‰


```shell
# æ·»åŠ è¿œç«¯ä»“åº“åœ°å€
git remote add origin ä½ çš„è¿œç¨‹ä»“åº“åœ°å€

# æ¨é€æäº¤
git push -u origin master
```

## è°ƒæ•´åˆå§‹ç›®å½•ç»“æ„

é»˜è®¤ç”Ÿæˆçš„ç›®å½•ç»“æ„ä¸æ»¡è¶³æˆ‘ä»¬çš„å¼€å‘éœ€æ±‚ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦åšä¸€äº›è‡ªå®šä¹‰æ”¹åŠ¨ã€‚

ä¸»è¦å·¥ä½œï¼š

- åˆ é™¤åˆå§‹åŒ–çš„é»˜è®¤æ–‡ä»¶
- æ–°å¢è°ƒæ•´éœ€è¦çš„ç›®å½•ç»“æ„

1ã€å°† `App.vue` ä¿®æ”¹ä¸º

```html
<template>
  <div id="app">
    <!-- è·¯ç”±å‡ºå£ -->
    <router-view/>
    <h1>zairesinatra</h1>
    <div>
      <i class='font_family icon-gengduo'></i>
    </div>
  </div>
</template>

<script>
export default {

}
</script>

<style lang="less">
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
}
</style>
```

2ã€å°† `router/index.js` ä¿®æ”¹ä¸º

```javascript
import Vue from 'vue'
import VueRouter from 'vue-router'

Vue.use(VueRouter)

const routes = [
  {
    path: '/',
    component: Vue
  }
]

const router = new VueRouter({
  routes
})

export default router

```

3ã€åˆ é™¤

- src/views/About.vue
- src/views/Home.vue
- src/components/HelloWorld.vue
- src/assets/logo.png

4ã€åˆ›å»ºä»¥ä¸‹å‡ ä¸ªç›®å½•

- src/api ç›®å½•
  - å­˜å‚¨æ¥å£å°è£…
- src/utils ç›®å½•
  - å­˜å‚¨ä¸€äº›å·¥å…·æ¨¡å—
- src/styles ç›®å½•
  - index.less æ–‡ä»¶ï¼Œå­˜å‚¨å…¨å±€æ ·å¼
  - åœ¨ `main.js` ä¸­åŠ è½½å…¨å±€æ ·å¼ `import './styles/index.less'`

è°ƒæ•´ä¹‹åçš„ç›®å½•ç»“æ„å¦‚ä¸‹ã€‚

```js
.                                 
â”œâ”€â”€ README.md                     
â”œâ”€â”€ babel.config.js               
â”œâ”€â”€ package-lock.json             
â”œâ”€â”€ package.json                  
â”œâ”€â”€ public                        
â”‚   â”œâ”€â”€ favicon.ico               
â”‚   â””â”€â”€ index.html                
â””â”€â”€ src                           
    â”œâ”€â”€ api
    â”œâ”€â”€ App.vue                   
    â”œâ”€â”€ assets                    
    â”œâ”€â”€ components                
    â”œâ”€â”€ main.js                   
    â”œâ”€â”€ router
    â”œâ”€â”€ utils
    â”œâ”€â”€ styles
    â”œâ”€â”€ store                     
    â””â”€â”€ views
```

## å¯¼å…¥å›¾æ ‡ç´ æ

è®¾è®¡ç¨¿ä¸­çš„å›¾æ ‡ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œåˆ¶ä½œä¸ºå­—ä½“å›¾æ ‡ã€‚

åˆ¶ä½œå­—ä½“å›¾æ ‡çš„å·¥å…·ä½¿ç”¨ï¼šhttps://www.iconfont.cn/ã€‚

æ³¨å†Œè´¦æˆ·ã€åˆ›å»ºé¡¹ç›®ã€ä¸Šä¼ å›¾æ ‡åˆ°é¡¹ç›®ã€ç”Ÿæˆé“¾æ¥ã€é…ç½®åˆ°é¡¹ç›®ä¸­ä½¿ç”¨

ä¸€ç§æ–¹å¼æ˜¯[å°† SVG å›¾æ ‡ åŒ…è£…ä¸º Vue ç»„ä»¶æ¥ä½¿ç”¨](https://cn.vuejs.org/v2/cookbook/editable-svg-icons.html)ã€‚

ä¸€ç§æ–¹å¼æ˜¯å°† SVG åˆ¶ä½œä¸ºå­—ä½“å›¾æ ‡æ¥ä½¿ç”¨ï¼š

## å¼•å…¥ Vant ç»„ä»¶åº“

Vant æ˜¯æœ‰èµå•†åŸå‰ç«¯å¼€å‘å›¢é˜Ÿå¼€å‘çš„ä¸€ä¸ªåŸºäº Vue.js çš„ç§»åŠ¨ç«¯ç»„ä»¶åº“

- [å®˜æ–¹æ–‡æ¡£](https://youzan.github.io/vant/#/zh-CN/)
- [GitHub ä»“åº“](https://github.com/youzan/vant)

Vant å¼•å…¥é¡¹ç›®çš„å››ç§æ–¹å¼ï¼š

- æ–¹å¼ä¸€ï¼šè‡ªåŠ¨<u>æŒ‰éœ€å¼•å…¥</u>ç»„ä»¶
  - å’Œæ–¹å¼äºŒä¸€æ ·ï¼Œéƒ½æ˜¯æŒ‰éœ€å¼•å…¥ï¼Œä½†æ˜¯åŠ è½½æ›´æ–¹ä¾¿ä¸€äº›ï¼ˆéœ€è¦é¢å¤–é…ç½®æ’ä»¶ï¼‰
  - ä¼˜ç‚¹ï¼šæ‰“åŒ…ä½“ç§¯å°
  - ç¼ºç‚¹ï¼šæ¯ä¸ªç»„ä»¶åœ¨ä½¿ç”¨ä¹‹å‰éƒ½éœ€è¦æ‰‹åŠ¨åŠ è½½æ³¨å†Œ

- æ–¹å¼äºŒï¼šæ‰‹åŠ¨æŒ‰éœ€å¼•å…¥ç»„ä»¶
  - åœ¨ä¸ä½¿ç”¨æ’ä»¶çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æ‰‹åŠ¨å¼•å…¥éœ€è¦çš„ç»„ä»¶
  - ä¼˜ç‚¹ï¼šæ‰“åŒ…ä½“ç§¯å°
  - ç¼ºç‚¹ï¼šæ¯ä¸ªç»„ä»¶åœ¨ä½¿ç”¨ä¹‹å‰éƒ½éœ€è¦æ‰‹åŠ¨åŠ è½½æ³¨å†Œ

- æ–¹å¼ä¸‰ï¼š<u>å¯¼å…¥æ‰€æœ‰</u>ç»„ä»¶
  - Vant æ”¯æŒä¸€æ¬¡æ€§å¯¼å…¥æ‰€æœ‰ç»„ä»¶ï¼Œå¼•å…¥æ‰€æœ‰ç»„ä»¶ä¼šå¢åŠ ä»£ç åŒ…ä½“ç§¯ï¼Œå› æ­¤ä¸æ¨èè¿™ç§åšæ³•
  - ä¼˜ç‚¹ï¼šå¯¼å…¥ä¸€æ¬¡ï¼Œä½¿ç”¨æ‰€æœ‰
  - ç¼ºç‚¹ï¼šæ‰“åŒ…ä½“ç§¯å¤§

- æ–¹å¼å››ï¼šé€šè¿‡ CDN å¼•å…¥
  - ä½¿ç”¨ Vant æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥åœ¨ html æ–‡ä»¶ä¸­å¼•å…¥ CDN é“¾æ¥ï¼Œä¹‹åä½ å¯ä»¥é€šè¿‡å…¨å±€å˜é‡`vant`è®¿é—®åˆ°æ‰€æœ‰ç»„ä»¶ã€‚
  - ä¼˜ç‚¹ï¼šé€‚åˆä¸€äº›æ¼”ç¤ºã€ç¤ºä¾‹é¡¹ç›®ï¼Œä¸€ä¸ª html æ–‡ä»¶å°±å¯ä»¥è·‘èµ·æ¥
  - ç¼ºç‚¹ï¼šä¸é€‚åˆåœ¨æ¨¡å—åŒ–ç³»ç»Ÿä¸­ä½¿ç”¨

è¿™é‡Œå»ºè®®ä¸ºäº†å‰æœŸå¼€å‘çš„ä¾¿åˆ©æ€§æˆ‘ä»¬é€‰æ‹©æ–¹å¼ä¸‰ï¼šå¯¼å…¥æ‰€æœ‰ç»„ä»¶ï¼Œåœ¨æœ€ååšæ‰“åŒ…ä¼˜åŒ–çš„æ—¶å€™æ ¹æ®éœ€æ±‚é…ç½®æŒ‰éœ€åŠ è½½ä»¥é™ä½æ‰“åŒ…ä½“ç§¯å¤§å°ã€‚

1ã€å®‰è£… Vant

```shell
npm i vant
```

2ã€åœ¨ `main.js` ä¸­åŠ è½½æ³¨å†Œ Vant ç»„ä»¶

```javascript
import Vue from 'vue'
import Vant from 'vant'
import 'vant/lib/index.css'

Vue.use(Vant)
```

3ã€æŸ¥é˜…æ–‡æ¡£ä½¿ç”¨ç»„ä»¶

## ç§»åŠ¨ç«¯ REM é€‚é…

Vant ä¸­çš„æ ·å¼é»˜è®¤ä½¿ç”¨ `px` ä½œä¸ºå•ä½ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ `rem` å•ä½ï¼Œæ¨èä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªå·¥å…·ï¼š

- [postcss-pxtorem](https://github.com/cuth/postcss-pxtorem) æ˜¯ä¸€æ¬¾ postcss æ’ä»¶ï¼Œç”¨äºå°†å•ä½è½¬åŒ–ä¸º rem
- [lib-flexible](https://github.com/amfe/lib-flexible) ç”¨äºè®¾ç½® rem åŸºå‡†å€¼

ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«å°†è¿™ä¸¤ä¸ªå·¥å…·é…ç½®åˆ°é¡¹ç›®ä¸­å®Œæˆ REM é€‚é…ã€‚

**ä¸€ã€ä½¿ç”¨ [lib-flexible](https://github.com/amfe/lib-flexible) åŠ¨æ€è®¾ç½® REM åŸºå‡†å€¼ï¼ˆhtml æ ‡ç­¾çš„å­—ä½“å¤§å°ï¼‰**

1ã€å®‰è£…

```shell
# yarn add amfe-flexible
npm i amfe-flexible
```

2ã€ç„¶ååœ¨ `main.js` ä¸­åŠ è½½æ‰§è¡Œè¯¥æ¨¡å—

```javascript
import 'amfe-flexible'
```

æœ€åæµ‹è¯•ï¼šåœ¨æµè§ˆå™¨ä¸­åˆ‡æ¢ä¸åŒçš„æ‰‹æœºè®¾å¤‡å°ºå¯¸ï¼Œè§‚å¯Ÿ html æ ‡ç­¾ `font-size` çš„å˜åŒ–ã€‚ï¼ˆä¾‹å¦‚åœ¨ iPhone 6/7/8 è®¾å¤‡ä¸‹ï¼Œhtml æ ‡ç­¾å­—ä½“å¤§å°ä¸º 37.5 pxï¼‰

**äºŒã€ä½¿ç”¨ [postcss-pxtorem](https://github.com/cuth/postcss-pxtorem) å°† `px` è½¬ä¸º `rem`**

1ã€å®‰è£…

```shell
# yarn add -D postcss-pxtorem
# -D æ˜¯ --save-dev çš„ç®€å†™
npm install postcss-pxtorem -D
```

2ã€ç„¶ååœ¨**é¡¹ç›®æ ¹ç›®å½•**ä¸­åˆ›å»º `.postcssrc.js` æ–‡ä»¶

```javascript
module.exports = {
  plugins: {
    'autoprefixer': {
      browsers: ['Android >= 4.0', 'iOS >= 8']
    },
    'postcss-pxtorem': {
      rootValue: 37.5,
      propList: ['*']
    }
  }
}

```

3ã€**é…ç½®å®Œæ¯•ï¼Œé‡æ–°å¯åŠ¨æœåŠ¡**

æœ€åæµ‹è¯•ï¼š**åˆ·æ–°æµè§ˆå™¨é¡µé¢**ï¼Œå®¡æŸ¥å…ƒç´ çš„æ ·å¼æŸ¥çœ‹æ˜¯å¦å·²å°† `px` è½¬æ¢ä¸º `rem`ã€‚

**éœ€è¦æ³¨æ„çš„æ˜¯ï¼š**

- è¯¥æ’ä»¶**ä¸èƒ½è½¬æ¢è¡Œå†…æ ·å¼ä¸­çš„ `px`**ï¼Œä¾‹å¦‚ `<div style="width: 200px;"></div>`

## å…³äº `.postcssrc.js` é…ç½®æ–‡ä»¶

```js
// åŸºäº node.js ç¼–å†™,éƒ½æ˜¯ node.js ä»£ç 
module.exports = {
  // é…ç½®è¦ä½¿ç”¨çš„æ’ä»¶
  plugins: {
    // é…ç½®ä½¿ç”¨ autoprefixer æ’ä»¶ => ç”Ÿæˆæµè§ˆå™¨ CSS æ ·å¼è§„åˆ™å‰ç¼€
    // å› ä¸º VueCLI å†…éƒ¨å·²ç»é…ç½®äº† autoprefixer æ’ä»¶,è¿™é‡Œå†æ¬¡é…ç½®å¯èƒ½å‡ºç°è­¦å‘Šâš ï¸,å‡ºç°åˆ™å¯ä»¥æ³¨é‡Šæ‰
    'autoprefixer': {
      // é…ç½®è¦å…¼å®¹çš„ç¯å¢ƒä¿¡æ¯
      browsers: ['Android >= 4.0', 'iOS >= 8']
    },
    // ä½¿ç”¨ postcss-pxtorem æ’ä»¶
    // æŠŠ px è½¬ä¸º rem
    'postcss-pxtorem': {
      // lib-flexible çš„ REM é€‚é…æ–¹æ¡ˆ:ä¸€è¡Œåˆ†ä¸º10ä»½ï¼Œæ¯ä»½ååˆ†ä¹‹ä¸€
      // æ‰€ä»¥ rootValue åº”è¯¥ä¸ºè®¾è®¡ç¨¿å®½åº¦çš„ååˆ†ä¹‹ä¸€
      // è®¾è®¡ç¨¿ä¸º iphone6 åˆ™æ˜¯750ï¼Œååˆ†ä¹‹ä¸€ä»½ä¸º75ï¼›vant æ˜¯åŸºäº 375 å†™çš„ï¼Œæ•…éœ€è¦å‡å°ä¸€å€
      // é€šè¿‡ Github æŒ‡å¯¼æ–‡æ¡£ options é€‰é¡¹å¯ä»¥è¿›è¡Œå‡½æ•°è½¬æ¢
      // rootValue ({ file }) {
      //	return file.indexOf('vant') !== -1 ? 37.5 : 75
      // }
      rootValue: 37.5,
      // é…ç½®è¦è½¬æ¢çš„ css å±æ€§
      // * è¡¨ç¤ºæ‰€æœ‰
      propList: ['*']
      // propList: ['height'] è¡¨ç¤ºä»…è½¬æ¢ height
    }
  }
}

```

`.postcssrc.js` æ˜¯ PostCSS çš„é…ç½®æ–‡ä»¶ã€‚

ï¼ˆ1ï¼‰PostCSS ä»‹ç»ï¼ˆå¼€å‘äººå‘˜å¯ä»¥æ ¹æ®é¡¹ç›®çš„éœ€è¦ï¼Œå¼€å‘å‡ºè‡ªå·±çš„ PostCSS æ’ä»¶ï¼‰

[PostCSS](https://postcss.org/) æ˜¯ä¸€ä¸ªå¤„ç† CSS çš„å¤„ç†å·¥å…·ï¼Œä¸€èˆ¬ä¸å•ç‹¬ä½¿ç”¨ï¼Œå¸¸ä¸å·²æœ‰çš„æ„å»ºå·¥å…·è¿›è¡Œé›†æˆï¼Œæœ¬èº«åŠŸèƒ½ä¸»è¦è´Ÿè´£**è§£æ CSS ä»£ç **ï¼Œ**å†äº¤ç”±æ’ä»¶æ¥è¿›è¡Œå¤„ç†**ã€‚å…¶æ’ä»¶åŠŸèƒ½å†³å®šå…¶ä»–å…·ä½“æ“ä½œï¼Œä¾‹å¦‚ï¼š

- [Autoprefixer](https://github.com/postcss/autoprefixer) æ’ä»¶å¯ä»¥å®ç°è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨ç›¸å…³çš„å£°æ˜å‰ç¼€
- [PostCSS Preset Env](https://github.com/csstools/postcss-preset-env) æ’ä»¶å¯ä»¥è®©å¼€å‘äººå‘˜ä½¿ç”¨æ›´æ–°çš„ CSS è¯­æ³•ç‰¹æ€§å¹¶å®ç°å‘ä¸‹å…¼å®¹
- [postcss-pxtorem](https://github.com/cuth/postcss-pxtorem) å¯ä»¥å®ç°å°† px è½¬æ¢ä¸º rem
- ...

[Vue CLI é»˜è®¤é›†æˆäº† PostCSS](https://cli.vuejs.org/zh/guide/css.html#postcss)ï¼Œå¹¶ä¸”é»˜è®¤å¼€å¯äº† [autoprefixer](https://github.com/postcss/autoprefixer) æ’ä»¶ã€‚

> Vue CLI å†…éƒ¨ä½¿ç”¨äº† PostCSSã€‚
>
> å¯ä»¥é€šè¿‡ `.postcssrc` æˆ–ä»»ä½• [postcss-load-config](https://github.com/michael-ciniawsky/postcss-load-config) æ”¯æŒçš„é…ç½®æºæ¥é…ç½® PostCSSã€‚ä¹Ÿå¯ä»¥é€šè¿‡ `vue.config.js` ä¸­çš„ `css.loaderOptions.postcss` é…ç½® [postcss-loader](https://github.com/postcss/postcss-loader)ã€‚
>
> é»˜è®¤å¼€å¯äº† [autoprefixer](https://github.com/postcss/autoprefixer)ã€‚å¦‚æœè¦é…ç½®ç›®æ ‡æµè§ˆå™¨ï¼Œå¯ä½¿ç”¨ `package.json` çš„ [browserslist](https://cli.vuejs.org/zh/guide/browser-compatibility.html#browserslist) å­—æ®µã€‚

[autoprefixer](https://github.com/postcss/autoprefixer) æ˜¯ä¸€ä¸ªè‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€çš„ PostCss æ’ä»¶ï¼Œ`browsers` ç”¨æ¥é…ç½®å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ï¼Œä½†æ˜¯å†™åœ¨è¿™é‡Œçš„è¯ä¼šå¼•èµ·ç¼–è¯‘å™¨è­¦å‘Šã€‚

```
Replace Autoprefixer browsers option to Browserslist config.
Use browserslist key in package.json or .browserslistrc file.

Using browsers option can cause errors. Browserslist config
can be used for Babel, Autoprefixer, postcss-normalize and other tools.

If you really need to use option, rename it to overrideBrowserslist.

Learn more at:
https://github.com/browserslist/browserslist#readme
https://twitter.com/browserslist
```

è­¦å‘Šæ„æ€åº”è¯¥å°† `browsers` é€‰é¡¹å†™åˆ° `package.json` æˆ– `.browserlistrc` æ–‡ä»¶ä¸­ã€‚

```
[Android]
>= 4.0

[iOS]
>= 8

```

> å…·ä½“è¯­æ³•è¯·[å‚è€ƒè¿™é‡Œ](https://github.com/browserslist/browserslist)ã€‚

ï¼ˆ3ï¼‰postcss-pxtorem æ’ä»¶çš„é…ç½®

![image-20200319105610557](/Users/xieziyi/Desktop/å‰ç«¯vueç§»åŠ¨ç«¯é¡¹ç›®èµ„æ–™/vueç§»åŠ¨ç«¯é¡¹ç›®ç¬¬ä¸€å¤©/è®²ä¹‰/è®²ä¹‰/assets/image-20200319105610557.png)

- `rootValue`ï¼šè¡¨ç¤ºæ ¹å…ƒç´ å­—ä½“å¤§å°ï¼Œå®ƒä¼šæ ¹æ®æ ¹å…ƒç´ å¤§å°è¿›è¡Œå•ä½è½¬æ¢
- `propList` ç”¨æ¥è®¾å®šå¯ä»¥ä» px è½¬ä¸º rem çš„å±æ€§
  - ä¾‹å¦‚ `*` å°±æ˜¯æ‰€æœ‰å±æ€§éƒ½è¦è½¬æ¢ï¼Œ`width` å°±æ˜¯ä»…è½¬æ¢ `width` å±æ€§



`rootValue` åº”è¯¥å¦‚ä½•è®¾ç½®å‘¢ï¼Ÿ

```
å¦‚æœä½ ä½¿ç”¨çš„æ˜¯åŸºäº lib-flexable çš„ REM é€‚é…æ–¹æ¡ˆï¼Œåˆ™åº”è¯¥è®¾ç½®ä¸ºä½ çš„è®¾è®¡ç¨¿çš„ååˆ†ä¹‹ä¸€ã€‚
ä¾‹å¦‚è®¾è®¡ç¨¿æ˜¯ 750 å®½ï¼Œåˆ™åº”è¯¥è®¾ç½®ä¸º 75ã€‚
```



å¤§å¤šæ•°è®¾è®¡ç¨¿çš„åŸå‹éƒ½æ˜¯ä»¥ iphone6 ä¸ºåŸå‹ï¼Œiphone6 è®¾å¤‡çš„å®½æ˜¯ 750ï¼Œæˆ‘ä»¬çš„è®¾è®¡ç¨¿ä¹Ÿæ˜¯è¿™æ ·ã€‚

ä½†æ˜¯ Vant å»ºè®®è®¾ç½®ä¸º 37.5ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

```
å› ä¸º Vant æ˜¯åŸºäº 375 å†™çš„ï¼Œæ‰€ä»¥å¦‚æœä½ è®¾ç½®ä¸º 75 çš„è¯ï¼ŒVant çš„æ ·å¼å°±å°äº†ä¸€åŠã€‚
```

æ‰€ä»¥å¦‚æœè®¾ç½®ä¸º `37.5` çš„è¯ï¼ŒVant çš„æ ·å¼æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨æµ‹é‡è®¾è®¡ç¨¿çš„æ—¶å€™éƒ½å¿…é¡»é™¤2æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™å°±ä¼šå˜å¾—å¾ˆå¤§ã€‚



è¿™æ ·åšå…¶å®ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•å‘¢ï¼Ÿæˆ‘å°±æƒ³å®ç°æµ‹é‡å¤šå°‘å†™å¤šå°‘ï¼ˆä¸ç”¨æ¢ç®—ï¼‰ã€‚äºæ˜¯èªæ˜çš„ä½ å°±æƒ³ï¼Œå¯ä»¥ä¸å¯ä»¥è¿™æ ·æ¥åšï¼Ÿ

- å¦‚æœæ˜¯ Vant çš„æ ·å¼ï¼Œå°±æŠŠ `rootValue` è®¾ç½®ä¸º 37.5 æ¥è½¬æ¢
- å¦‚æœæ˜¯æˆ‘ä»¬çš„æ ·å¼ï¼Œå°±æŒ‰ç…§ 75 çš„ `rootValue` æ¥è½¬æ¢



é€šè¿‡[æŸ¥é˜…æ–‡æ¡£](https://github.com/cuth/postcss-pxtorem#options)æˆ‘ä»¬å¯ä»¥çœ‹åˆ° `rootValue` æ”¯æŒä¸¤ç§å‚æ•°ç±»å‹ï¼š

- æ•°å­—ï¼šå›ºå®šå€¼
- å‡½æ•°ï¼šåŠ¨æ€è®¡ç®—è¿”å›
  - postcss-pxtorem å¤„ç†æ¯ä¸ª CSS æ–‡ä»¶çš„æ—¶å€™éƒ½ä¼šæ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°
  - å®ƒä¼šæŠŠè¢«å¤„ç†çš„ CSS æ–‡ä»¶ç›¸å…³çš„ä¿¡æ¯é€šè¿‡å‚æ•°ä¼ é€’ç»™è¯¥å‡½æ•°

æ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š

```js
/**
 * PostCSS é…ç½®æ–‡ä»¶
 */

module.exports = {
  // é…ç½®è¦ä½¿ç”¨çš„ PostCSS æ’ä»¶
  plugins: {
    // é…ç½®ä½¿ç”¨ autoprefixer æ’ä»¶
    // ä½œç”¨ï¼šç”Ÿæˆæµè§ˆå™¨ CSS æ ·å¼è§„åˆ™å‰ç¼€
    // VueCLI å†…éƒ¨å·²ç»é…ç½®äº† autoprefixer æ’ä»¶
    // æ‰€ä»¥åˆé…ç½®äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥äº§ç”Ÿå†²çªäº†
    // 'autoprefixer': { // autoprefixer æ’ä»¶çš„é…ç½®
    //   // é…ç½®è¦å…¼å®¹åˆ°çš„ç¯å¢ƒä¿¡æ¯
    //   browsers: ['Android >= 4.0', 'iOS >= 8']
    // },

    // é…ç½®ä½¿ç”¨ postcss-pxtorem æ’ä»¶
    // ä½œç”¨ï¼šæŠŠ px è½¬ä¸º rem
    'postcss-pxtorem': {
      rootValue ({ file }) {
        return file.indexOf('vant') !== -1 ? 37.5 : 75
      },
      propList: ['*']
    }
  }
}

```

é…ç½®å®Œæ¯•ï¼ŒæŠŠæœåŠ¡é‡å¯ä¸€ä¸‹ï¼Œæœ€åæµ‹è¯•ï¼Œvery goodã€‚



## å°è£…è¯·æ±‚æ¨¡å—

ä½¿ç”¨ [axios](https://github.com/axios/axios) ä½œä¸ºé¡¹ç›®ä¸­çš„è¯·æ±‚åº“ï¼Œä¸ºæ–¹ä¾¿ä½¿ç”¨åˆ™å°†å…¶å°è£…ä¸ºè¯·æ±‚æ¨¡å—ï¼ŒæŒ‰éœ€åŠ è½½å³å¯ã€‚

1ã€å®‰è£… axios

```shell
npm i axios
```

2ã€åˆ›å»º `src/utils/request.js`

```javascript
/**
 * å°è£… axios è¯·æ±‚æ¨¡å—
 */
import axios from "axios"

const request = axios.create({
  baseURL: "http://ttapi.research.itcast.cn/" // åŸºç¡€è·¯å¾„
})

export default request
```

3ã€ä½¿ç”¨æ–¹å¼

- æ–¹å¼ä¸€ï¼ˆç®€å•æ–¹ä¾¿ï¼Œä½†æ˜¯ä¸åˆ©äºæ¥å£ç»´æŠ¤ï¼‰ï¼šæˆ‘ä»¬å¯ä»¥æŠŠè¯·æ±‚å¯¹è±¡æŒ‚è½½åˆ° `Vue.prototype` åŸå‹å¯¹è±¡ä¸­ï¼Œç„¶ååœ¨ç»„ä»¶ä¸­é€šè¿‡ `this.xxx` ç›´æ¥è®¿é—®
- æ–¹å¼äºŒï¼ˆæ¨èï¼‰ï¼šæˆ‘ä»¬æŠŠæ¯ä¸€ä¸ªè¯·æ±‚éƒ½å°è£…æˆæ¯ä¸ªç‹¬ç«‹çš„åŠŸèƒ½å‡½æ•°ï¼Œåœ¨éœ€è¦çš„æ—¶å€™åŠ è½½è°ƒç”¨ï¼Œè¿™ç§åšæ³•æ›´ä¾¿äºæ¥å£çš„ç®¡ç†å’Œç»´æŠ¤

åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­å»ºè®®ä½¿ç”¨æ–¹å¼äºŒï¼Œæ›´æ¨èï¼ˆåœ¨éšåçš„ä¸šåŠ¡åŠŸèƒ½ä¸­æˆ‘ä»¬å°±èƒ½å­¦åˆ°ï¼‰ã€‚



